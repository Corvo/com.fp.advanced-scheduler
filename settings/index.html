<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        
    	<!-- The '/homey.js' script must be included in your settings view to work -->
        <script type="text/javascript" src="/homey.js" data-origin="settings"></script>
        <!--script type="text/javascript" src="../settings/vue.js" data-origin="settings"></script-->
        <!--script type="text/javascript" src="../settings/websettings.js" data-origin="settings"></script-->
        <!--script type="text/javascript" src="../settings/TestClass.js" data-origin="settings"></script-->

    </head>
    <body >
        <div id="app">{{message}}
        </div>
        
        <h1>
			Settings	
		</h1>

        <div>
            <label for="settings">Settings</label><BR>
            <input id="settings" type="text" rows = "20" cols="50" value="" />
        </div>
        
        <button id="save" class="right">Save changes</button>
        
        <script type="text/javascript">

            // a method named 'onHomeyReady' must be present in your code
            function onHomeyReady( Homey ){
                var settingsElement = document.getElementById('settings');
                var saveElement = document.getElementById('save');
                Homey.get('settings', function( err, settings ) {
                if( err ) return Homey.alert( err );
                    settingsElement.value = settings;
                });
         
                // Tell Homey we're ready to be displayed
                Homey.ready();

                saveElement.addEventListener('click', function(e) {
                    Homey.set('settings', settingsElement.value, function( err ){
                        if( err ) return Homey.alert( err );
                    });
                });
            }
            
        </script>
        <script type="text/javascript" src="main_vue.js"></script>  
    </body>
</html>